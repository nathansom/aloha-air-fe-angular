<mat-card class="admin_panel">
    <h1>Add a Flight</h1>
    <mat-form-field appearance="fill">
        <mat-label>Origin</mat-label>
        <input matInput placeholder="Origin" [(ngModel)]="origin">
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Destination</mat-label>
        <input matInput placeholder="Destination" [(ngModel)]="destination">
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Flight Number</mat-label>
        <input matInput placeholder="Flight Number" [(ngModel)]="flightnumber">
    </mat-form-field>  
    <mat-form-field appearance="fill">
        <mat-label>Departure</mat-label>
        <input matInput type="datetime-local" placeholder="Departure" [(ngModel)]="depart">
    </mat-form-field> 
    <mat-form-field appearance="fill">
        <mat-label>Arrival</mat-label>
        <input matInput type="datetime-local" placeholder="Arrival" [(ngModel)]="arrive">
    </mat-form-field>
    <!--
     <mat-form-field appearance="fill">
        <mat-label>No Stop-Over?</mat-label>
        <input matInput [(ngModel)]="nonstop" (click)="toggleNonStop()">
    </mat-form-field>
    -->
    <mat-checkbox [(ngModel)]="nonstop">No Stop-Over</mat-checkbox>

    <button mat-raised-button color="accent" (click)="sendFlight()">Create Flight</button>
</mat-card>

<div class="mat-elevation-z8">
  <table
    mat-table
    [dataSource]="dataSource"
    matSort
    (matSortChange)="announceSortChange($event)"
  >
    <!-- Flight No. Column -->
    <ng-container matColumnDef="flightnumber">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by Flight No."
      >
        Flight No.
      </th>
      <td mat-cell *matCellDef="let element">
          <input type="text" [(ngModel)]="element.flightnumber">
      </td>
    </ng-container>

    <!-- Origin Column -->
    <ng-container matColumnDef="origin">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by Origin"
      >
        Origin
      </th>
      <td mat-cell *matCellDef="let element">
          <input type="text" [(ngModel)]="element.origin">
      </td>
    </ng-container>

    <!-- Arrival Column -->
    <ng-container matColumnDef="arrive">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by Arrival"
      >
        Arrival
      </th>
      <td mat-cell *matCellDef="let element">
        <input type="datetime-local" [(ngModel)]="element.arrive">
        <mat-hint>{{element.arrive | date: "medium"}}</mat-hint>
      </td>
    </ng-container>

    <!-- Destination Column -->
    <ng-container matColumnDef="destination">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by Destination"
      >
        Destination
      </th>
      <td mat-cell *matCellDef="let element">
            <input type="text" [(ngModel)]="element.destination">
      </td>
    </ng-container>

    <!-- Departure Column -->
    <ng-container matColumnDef="depart">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by Departure"
      >
        Departure
      </th>
      <td mat-cell *matCellDef="let element">
        <input type="datetime-local" [(ngModel)]="element.depart">
        <mat-hint>{{element.depart | date: "medium"}}</mat-hint>
      </td>
    </ng-container>

    <!-- Non-Stop Column -->
    <ng-container matColumnDef="nonstop">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by Non-Stop"
      >
        Non-Stop
      </th>
      <td mat-cell *matCellDef="let element">
        <input type="checkbox" [(ngModel)]="element.nonstop">
      </td>
    </ng-container>

<!-- Update Column -->
    <ng-container matColumnDef="id1">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by ID"
      >
        Update
      </th>
      <td mat-cell *matCellDef="let element">
        <button mat-button color="primary" (click)="updateFlight(element)">Update</button>
      </td>
    </ng-container>

    <ng-container matColumnDef="id2">
      <th
        mat-header-cell
        *matHeaderCellDef
        mat-sort-header
        sortActionDescription="Sort by ID"
      >
        Delete
      </th>
      <td mat-cell *matCellDef="let element">
        <button mat-button color="warn" (click)="deleteFlight(element.id)">Delete</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <mat-paginator
    class="paginator"
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    aria-label="Select page of flights"
  >
  </mat-paginator>
</div>

